{
  "project": "MuratecInstallLogistics",
  "branchName": "feat/supply-list-logistics-field-ops-scheduling-evm",
  "description": "Complete implementation of supply list views, logistics tracking, field operations, project scheduling, and installation EVM",
  "referenceSpec": "tasks/prd-*.md",
  "userStories": [
    {
      "id": "US-001",
      "title": "Add savedViews table and supplyItems indexes",
      "description": "As a developer, I need database schema for saved views and efficient supply item queries",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "savedViews table added with name, filters, columns, sortBy, sortOrder, isShared, createdBy fields",
        "Index by_creator on savedViews",
        "Index by_shared on savedViews",
        "Index by_pallet on supplyItems",
        "Index by_pl_number on supplyItems",
        "bunx convex dev --once succeeds",
        "bun check passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Foundation schema for core views feature"
    },
    {
      "id": "US-002",
      "title": "Create supplyItems query with pagination and filtering",
      "description": "As a developer, I need Convex query functions to fetch supply items with filters",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "Query accepts filters: projectNumber, pwbs (array), caseNumbers (array), palletNumbers (array), plNumbers (array), isDeleted",
        "Query supports text search across itemNumber, partNumber, description",
        "Query returns paginated results with cursor",
        "Query supports sorting by any column",
        "bun check passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Core backend for supply list views"
    },
    {
      "id": "US-003",
      "title": "Create savedViews CRUD operations",
      "description": "As a developer, I need Convex functions for managing saved views",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "createSavedView mutation creates new view with filters and columns",
        "updateSavedView mutation updates existing view",
        "deleteSavedView mutation removes view",
        "getSavedViews query returns user's views and shared views",
        "getDefaultViews query returns pre-built views (By PWBS, By Work Package, By Case, By Pallet)",
        "bun check passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Create supply list page with responsive layout",
      "description": "As a user, I want to access supply list at /supply-list route",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "Route exists at /supply-list",
        "Page layout includes header, toolbar, and content area",
        "Layout is responsive with sidebar on desktop (lg:) and sheet on mobile",
        "Skeleton loading state shown during data fetch",
        "bun check passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Build supply table component for desktop",
      "description": "As a desktop user, I want to view supply items in a sortable table",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "Table displays on lg: breakpoint and above",
        "Columns: itemNumber, partNumber, description, quantity, caseNumber, palletNumber, plNumber, pwbs",
        "Columns are sortable by clicking header",
        "Row click expands to show full item details",
        "bun check passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Build supply card list component for mobile",
      "description": "As a mobile user, I want to view supply items as cards",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "Card list displays below lg: breakpoint",
        "Card shows: itemNumber, partNumber, description (truncated), caseNumber, quantity",
        "Card tap expands to show full details",
        "Pull-to-refresh support",
        "bun check passes"
      ],
      "priority": 6,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Build filter sidebar for desktop",
      "description": "As a desktop user, I want a collapsible sidebar to filter supply items",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "Sidebar displays on lg: breakpoint",
        "Filter sections: Project (single select), PWBS (multi-select), Case Numbers, Pallet Numbers, plNumbers",
        "Sidebar is collapsible",
        "Filter changes update URL query params",
        "bun check passes"
      ],
      "priority": 7,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Build filter sheet for mobile",
      "description": "As a mobile user, I want a bottom sheet to access filters",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "Filter button in toolbar opens bottom sheet",
        "Sheet contains same filters as desktop sidebar",
        "Apply button closes sheet and applies filters",
        "Active filter count shown on filter button",
        "bun check passes"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Build active filter chips and project switcher",
      "description": "As a user, I want to see active filters as dismissible chips and switch projects",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "Active filters shown as Badge chips in toolbar",
        "Each chip has dismiss button to remove filter",
        "Project switcher dropdown in header",
        "Last viewed project remembered (localStorage)",
        "bun check passes"
      ],
      "priority": 9,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Build saved views picker and creator",
      "description": "As a user, I want to save and load filter/column configurations",
      "referenceSpec": "tasks/prd-supply-list-core-views.md",
      "acceptanceCriteria": [
        "View picker dropdown in toolbar shows saved views",
        "Pre-built views shown: By PWBS, By Work Package, By Case, By Pallet",
        "Save current view button opens dialog",
        "Dialog allows naming view and marking as shared",
        "Selecting view applies its filters and columns",
        "bun check passes"
      ],
      "priority": 10,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Add logistics schema tables",
      "description": "As a developer, I need database schema for shipments and logistics tracking",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "shipments table with vesselName, voyageNumber, ports, milestone dates, status, caseCount, totalWeightKg",
        "Indexes: by_status, by_eta, by_vessel on shipments",
        "caseShipments table linking cases to shipments",
        "Indexes: by_case, by_shipment on caseShipments",
        "notifications table with userId, type, title, message, read status",
        "Indexes: by_user, by_user_unread on notifications",
        "bunx convex dev --once succeeds",
        "bun check passes"
      ],
      "priority": 11,
      "passes": true,
      "notes": "Foundation for logistics tracking"
    },
    {
      "id": "US-012",
      "title": "Create shipment CRUD operations",
      "description": "As a developer, I need Convex functions for managing shipments",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "createShipment mutation creates shipment with vessel, ports, initial dates",
        "updateShipment mutation updates shipment details",
        "updateShipmentMilestone mutation updates specific milestone date",
        "getShipments query with filters: status, projectNumber, dateRange",
        "getShipmentById query returns full shipment details",
        "bun check passes"
      ],
      "priority": 12,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-013",
      "title": "Create case-to-shipment assignment functions",
      "description": "As a developer, I need functions to link cases to shipments",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "assignCasesToShipment mutation links multiple cases to a shipment",
        "removeCasesFromShipment mutation unlinks cases",
        "getCasesByShipment query returns all cases for a shipment",
        "getShipmentForCase query returns shipment for a case",
        "Shipment summary (caseCount, totalWeightKg, projectNumbers) auto-updated on assignment",
        "bun check passes"
      ],
      "priority": 13,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Create notification functions",
      "description": "As a developer, I need functions for creating and managing notifications",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "createNotification mutation creates notification for user",
        "markNotificationRead mutation marks notification as read",
        "getUnreadNotifications query returns user's unread notifications",
        "Notification types: arrival_reminder, eta_change, shipment_arrived, delay_alert",
        "bun check passes"
      ],
      "priority": 14,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "Build shipment Kanban board",
      "description": "As an import coordinator, I want to see shipments organized by status columns",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "Route at /logistics displays Kanban board",
        "Columns: At Factory, In Transit, At Port, Customs, Delivered",
        "Shipment cards show: vessel name, ETA, case count, project badges",
        "Delayed shipments highlighted (>3 day ETA change)",
        "bun check passes"
      ],
      "priority": 15,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Build shipment detail view with milestone timeline",
      "description": "As an import coordinator, I want to see and update shipment milestones",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "Route at /logistics/shipments/[shipmentId]",
        "Horizontal timeline shows milestones: Factory Out, ETD, ATD, ETA, ATA, Customs, Delivered",
        "Completed milestones filled, pending milestones empty",
        "Click milestone to update date",
        "Expected vs actual dates shown",
        "bun check passes"
      ],
      "priority": 16,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Build arrival calendar view",
      "description": "As a warehouse manager, I want to see expected arrivals on a calendar",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "Route at /logistics/calendar",
        "Month view shows expected arrivals by date",
        "Day cells show case count badge",
        "Click date to see arriving shipments",
        "Week view toggle available",
        "bun check passes"
      ],
      "priority": 17,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Add drag-drop status updates to Kanban board",
      "description": "As an import coordinator, I want to drag shipments between columns to update status",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "Shipment cards draggable between columns",
        "Dropping card prompts for date of status change",
        "Status updates in database on drop",
        "Visual feedback during drag",
        "bun check passes"
      ],
      "priority": 18,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-019",
      "title": "Add delay detection and notification job",
      "description": "As a warehouse manager, I want automatic notifications for delays and upcoming arrivals",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "Scheduled function checks for ETA changes > 3 days",
        "Scheduled function checks for arrivals in next 3 days",
        "Creates notifications for affected users",
        "Delay reason field editable on shipment",
        "bun check passes"
      ],
      "priority": 19,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-020",
      "title": "Add filtering and notifications UI to logistics",
      "description": "As a user, I want to filter shipments and see my notifications",
      "referenceSpec": "tasks/prd-logistics-tracking.md",
      "acceptanceCriteria": [
        "Filter panel on Kanban: by project, destination port, date range",
        "Notification bell in header shows unread count",
        "Dropdown shows recent notifications",
        "Click notification navigates to related shipment",
        "bun check passes"
      ],
      "priority": 20,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-021",
      "title": "Add field operations schema tables",
      "description": "As a developer, I need database schema for case tracking, inventory, and picking",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "caseTracking table with moveInStatus, inventoryStatus, location, damage fields",
        "Indexes: by_project, by_case, by_move_in_status, by_inventory_status",
        "inventoryItems table with status, quantities, notes, photos",
        "Indexes: by_case, by_status",
        "pickingTasks table with status, quantities, location",
        "Indexes: by_project, by_work_package, by_status",
        "bunx convex dev --once succeeds",
        "bun check passes"
      ],
      "priority": 21,
      "passes": false,
      "notes": "Foundation for field operations"
    },
    {
      "id": "US-022",
      "title": "Create case move-in functions",
      "description": "As a developer, I need functions for recording case arrivals",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "recordCaseArrival mutation sets moveInStatus to arrived with timestamp and user",
        "setCaseLocation mutation updates caseLocation field",
        "reportDamage mutation adds damageNotes and damagePhotos",
        "getMoveInProgress query returns cases arrived vs total by project",
        "getCaseByNumber query returns case tracking record",
        "bun check passes"
      ],
      "priority": 22,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-023",
      "title": "Create inventory verification functions",
      "description": "As a developer, I need functions for verifying case contents",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "getExpectedContents query returns supply items for a case",
        "updateItemStatus mutation marks item as verified/missing/damaged/extra",
        "addDiscrepancyDetails mutation adds notes and photos to item",
        "getCaseInventoryProgress query returns verification status for case",
        "getProjectInventoryProgress query returns overall inventory progress",
        "bun check passes"
      ],
      "priority": 23,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-024",
      "title": "Create parts picking functions",
      "description": "As a developer, I need functions for generating and tracking pick lists",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "generatePickList mutation creates pickingTasks for a work package (plNumber)",
        "Pick list sorted by caseLocation for efficient routing",
        "updatePickStatus mutation marks item as picked/partial/unavailable",
        "getPickListByWorkPackage query returns pick list with statuses",
        "getKitReadiness query returns complete/partial/not_started status",
        "bun check passes"
      ],
      "priority": 24,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-025",
      "title": "Build move-in scanning interface",
      "description": "As a move-in team member, I want to scan cases and record arrivals on mobile",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "Route at /supply-list/move-in",
        "Large scan button prominent at bottom",
        "Camera-based barcode scanning (or text input fallback)",
        "Successful scan shows case details with location input",
        "Damage report button with photo capture",
        "bun check passes"
      ],
      "priority": 25,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-026",
      "title": "Build inventory verification workflow",
      "description": "As an inventory team member, I want to verify case contents on mobile",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "Route at /supply-list/inventory",
        "Scan or select case shows expected contents list",
        "Each item has Verified/Missing/Damaged/Extra buttons",
        "Quantity discrepancy input when status is not Verified",
        "Photo capture for damaged items",
        "Progress indicator shows items verified / total",
        "bun check passes"
      ],
      "priority": 26,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-027",
      "title": "Build parts picking interface",
      "description": "As a parts picker, I want to see and complete pick lists on mobile",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "Route at /supply-list/picking",
        "Work package (plNumber) selector at top",
        "Pick list shows: itemNumber, partNumber, description, quantity, caseNumber, location",
        "Large Picked and Unavailable buttons per item",
        "Items sorted by case location",
        "Progress shows items picked / total",
        "bun check passes"
      ],
      "priority": 27,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-028",
      "title": "Build site manager field dashboard",
      "description": "As a site manager, I want to see field operations overview on tablet/desktop",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "Route at /supply-list/field-dashboard",
        "Summary cards: Move-in Progress, Inventory Progress, Picking Queue",
        "List of pending actions (cases to move-in, cases to inventory, picks to complete)",
        "Discrepancy report section showing items with issues",
        "Filter by date range",
        "bun check passes"
      ],
      "priority": 28,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-029",
      "title": "Add photo upload to field operations",
      "description": "As a field worker, I want to attach photos to damage reports and discrepancies",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "Camera capture with auto-compression",
        "Photos stored in Convex file storage",
        "Thumbnail preview in lists",
        "Full-size view on tap",
        "Photos linked to case tracking or inventory items",
        "bun check passes"
      ],
      "priority": 29,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-030",
      "title": "Add case not inventoried warning to picking",
      "description": "As a parts picker, I want warnings when picking from uninventoried cases",
      "referenceSpec": "tasks/prd-field-operations.md",
      "acceptanceCriteria": [
        "Pick list items from uninventoried cases show warning badge",
        "Warning can be acknowledged to proceed",
        "Kit readiness considers inventory status",
        "bun check passes"
      ],
      "priority": 30,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-031",
      "title": "Add project scheduling schema tables",
      "description": "As a developer, I need database schema for work packages and dependencies",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "pwbsDependencies table with fromPwbs, toPwbs, dependencyType, isDefault, projectNumber",
        "Indexes: by_from, by_project",
        "workPackageSchedule table with plNumber, dates, status, summaries",
        "Indexes: by_project, by_pl, by_status, by_planned_start",
        "projects table with projectNumber, name, customer, site, timeline, status",
        "Indexes: by_project_number, by_status, by_customer",
        "bunx convex dev --once succeeds",
        "bun check passes"
      ],
      "priority": 31,
      "passes": false,
      "notes": "Foundation for project scheduling"
    },
    {
      "id": "US-032",
      "title": "Create work package aggregation functions",
      "description": "As a developer, I need functions to aggregate supply items into work packages",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "aggregateWorkPackages mutation creates/updates workPackageSchedule records from supplyItems",
        "Summary includes: itemCount, totalQuantity, totalWeightKg, pwbsCategories",
        "getWorkPackages query returns work packages for project",
        "getWorkPackageByPlNumber query returns single work package with items",
        "bun check passes"
      ],
      "priority": 32,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-033",
      "title": "Create PWBS dependency management functions",
      "description": "As a developer, I need functions for managing PWBS category dependencies",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "setDefaultDependency mutation creates default PWBS dependency",
        "setProjectDependency mutation creates project-specific override",
        "getDependencies query returns dependencies (default + project overrides)",
        "Dependency types: finish_to_start, start_to_start, none (parallel)",
        "bun check passes"
      ],
      "priority": 33,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-034",
      "title": "Create work package scheduling functions",
      "description": "As a developer, I need functions for scheduling work packages",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "scheduleWorkPackage mutation sets plannedStart and plannedEnd",
        "Validates against PWBS dependencies, returns warnings (not blocks)",
        "updateWorkPackageStatus mutation changes scheduleStatus",
        "Auto-calculate downstream dates when predecessor moves",
        "bun check passes"
      ],
      "priority": 34,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-035",
      "title": "Create material readiness calculation",
      "description": "As a developer, I need functions to calculate work package readiness based on material status",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "calculateReadiness function checks inventory and picking status for work package items",
        "Returns: ready (all items inventoried and available), partial (some available), blocked (critical missing)",
        "Updates workPackageSchedule.readinessStatus",
        "Links to logistics ETA for blocked items",
        "bun check passes"
      ],
      "priority": 35,
      "passes": false,
      "notes": "Integration point with field operations and logistics"
    },
    {
      "id": "US-036",
      "title": "Build work package list and detail views",
      "description": "As a scheduler, I want to view all work packages for a project",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "Route at /projects/[projectNumber]/work-packages",
        "Work packages grouped by PWBS category",
        "Card shows: plNumber, plName, PWBS, itemCount, weightKg, readiness badge",
        "Click expands to show item list",
        "Route at /projects/[projectNumber]/work-packages/[plNumber] for detail",
        "bun check passes"
      ],
      "priority": 36,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-037",
      "title": "Build PWBS dependency editor",
      "description": "As a scheduler, I want to define dependencies between PWBS categories",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "Dependency editor accessible from project settings",
        "Shows PWBS categories with connection lines",
        "Can set dependency type: Finish-to-Start, Start-to-Start, Parallel",
        "Default dependencies vs project-specific toggleable",
        "Changes saved immediately",
        "bun check passes"
      ],
      "priority": 37,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-038",
      "title": "Build Gantt chart timeline",
      "description": "As a scheduler, I want to see work packages on a Gantt chart",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "Route at /projects/[projectNumber]/schedule",
        "Gantt chart displays work packages as bars",
        "Zoom levels: day, week, month",
        "Dependency arrows between related work packages",
        "Today marker on timeline",
        "Color-coded by PWBS prefix (K=blue, F=green, H=orange)",
        "Readiness shown as fill pattern (solid=ready, striped=partial, hollow=blocked)",
        "bun check passes"
      ],
      "priority": 38,
      "passes": false,
      "notes": "Consider gantt-task-react library"
    },
    {
      "id": "US-039",
      "title": "Add drag-drop scheduling to Gantt chart",
      "description": "As a scheduler, I want to drag work packages to reschedule them",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "Work package bars draggable horizontally",
        "Dropping updates plannedStart and plannedEnd",
        "Dependency violations show warning toast",
        "Downstream work packages offer to auto-adjust",
        "bun check passes"
      ],
      "priority": 39,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-040",
      "title": "Build multi-project dashboard",
      "description": "As a project manager, I want to see timelines for all active projects",
      "referenceSpec": "tasks/prd-project-scheduling.md",
      "acceptanceCriteria": [
        "Route at /projects",
        "Condensed timeline view with swimlanes per project",
        "Collapsed view shows project bar; expand for work packages",
        "Filter by: customer, site, date range, status",
        "Highlights projects with schedule risks",
        "Click navigates to single-project detail",
        "bun check passes"
      ],
      "priority": 40,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-041",
      "title": "Add installation and EVM schema tables",
      "description": "As a developer, I need database schema for installation tracking and EVM snapshots",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "installationStatus table with supplyItemId, status, timestamps, issue fields",
        "Indexes: by_supply_item, by_project, by_work_package, by_status, by_installed_date",
        "evmSnapshots table with projectNumber, scope, metrics (bac, pv, ev, sv, spi, etc.)",
        "Indexes: by_project_date, by_scope",
        "bunx convex dev --once succeeds",
        "bun check passes"
      ],
      "priority": 41,
      "passes": false,
      "notes": "Foundation for installation EVM"
    },
    {
      "id": "US-042",
      "title": "Create installation status tracking functions",
      "description": "As a developer, I need functions for tracking item installation status",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "updateInstallationStatus mutation sets status: not_started, in_progress, installed, issue",
        "Records installedBy and installedAt timestamp",
        "bulkUpdateInstallStatus mutation for batch updates",
        "getInstallationStatusByWorkPackage query returns items with statuses",
        "Warns (not blocks) if marking installed before picked",
        "bun check passes"
      ],
      "priority": 42,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-043",
      "title": "Create issue reporting functions",
      "description": "As a developer, I need functions for reporting installation issues",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "reportInstallationIssue mutation sets issueType, issueNotes, issuePhotos",
        "Issue types: missing_part, damaged_part, wrong_part, site_condition, other",
        "resolveIssue mutation clears issue and allows status update",
        "getIssuesByProject query returns all open issues",
        "bun check passes"
      ],
      "priority": 43,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-044",
      "title": "Create EVM calculation functions",
      "description": "As a developer, I need functions to calculate EVM metrics",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "calculateEvm function computes PV, EV, SV, SPI, BAC, EAC, VAC for project",
        "PV = items scheduled by date, EV = items installed by date, BAC = total items",
        "SPI = EV/PV, EAC = BAC/SPI",
        "Can calculate at project, PWBS, or work package scope",
        "getEvmByProject query returns current EVM metrics",
        "bun check passes"
      ],
      "priority": 44,
      "passes": false,
      "notes": "Item-based EVM, not cost-based"
    },
    {
      "id": "US-045",
      "title": "Create daily EVM snapshot job",
      "description": "As a developer, I need scheduled function to store daily EVM snapshots",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "Convex scheduled function runs daily",
        "Creates evmSnapshot for each active project at project level",
        "Creates evmSnapshot for each PWBS category",
        "Creates evmSnapshot for each work package",
        "getEvmTrend query returns snapshots for past N days",
        "bun check passes"
      ],
      "priority": 45,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-046",
      "title": "Build installer mobile interface",
      "description": "As an installer, I want to mark items as installed on my phone",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "Route at /install/[projectNumber]/[plNumber]",
        "Work package selector at top",
        "Item list filtered to Picked status (ready for install)",
        "Large Installed button per item (min 44px touch target)",
        "Issue button opens issue reporting form",
        "Daily/weekly completion summary",
        "bun check passes"
      ],
      "priority": 46,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-047",
      "title": "Build PM EVM dashboard",
      "description": "As a project manager, I want to see project health via EVM metrics",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "Route at /dashboard/evm",
        "Project health cards with SPI gauge and % complete",
        "SPI color: Green (>0.95), Yellow (0.85-0.95), Red (<0.85)",
        "Projects sorted by SPI ascending (problems first)",
        "Click project navigates to detail view",
        "bun check passes"
      ],
      "priority": 47,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-048",
      "title": "Build SPI gauge and trend charts",
      "description": "As a project manager, I want to see SPI trends over time",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "SPI gauge component (semicircle, 0 to 1.5 scale)",
        "Green zone: 0.95-1.1, Yellow: 0.85-0.95 and 1.1-1.2, Red: <0.85 or >1.2",
        "Trend sparkline showing SPI over past 4 weeks",
        "Trend arrow indicating direction (up/down/stable)",
        "bun check passes"
      ],
      "priority": 48,
      "passes": false,
      "notes": "Consider recharts or SVG sparklines"
    },
    {
      "id": "US-049",
      "title": "Build EVM drill-down navigation",
      "description": "As a project manager, I want to drill down from project to PWBS to work package EVM",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "Route at /dashboard/evm/[projectNumber]",
        "Project detail shows EVM metrics with breakdown by PWBS",
        "Click PWBS shows work packages within that category",
        "Click work package shows individual item statuses",
        "Blockers section shows work packages with issues",
        "bun check passes"
      ],
      "priority": 49,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-050",
      "title": "Build EVM report generator",
      "description": "As a project manager, I want to generate EVM reports for stakeholders",
      "referenceSpec": "tasks/prd-installation-evm.md",
      "acceptanceCriteria": [
        "Route at /reports/evm",
        "Select project and date range",
        "Report shows: PV, EV, SV, SPI, BAC, EAC, VAC, trend chart, risk items",
        "Print-friendly layout (printable HTML)",
        "Export to CSV button for raw data",
        "bun check passes"
      ],
      "priority": 50,
      "passes": false,
      "notes": "PDF generation deferred to future enhancement"
    }
  ]
}
